root@ec25add1092f:/workspace/MotionVectorization# # فك ضغط النماذج
cd RAFT/models
unzip models.zip
ls -la  # للتحقق من النماذج المستخرجة
cd ../..

# اختبار RAFT مرة أخرى
cd RAFT
python3 extract_flow.py --path ../videos/demo --model models/raft-things.pth --max_frames 10
cd ..

# التحقق من نجاح RAFT
ls videos/demo/flow/forward/  # يجب أن يحتوي على ملفات .npy

# إذا نجح، تشغيل المعالجة الكاملة
./scripts/final_script.sh videos/demo.txt
bash: unzip: command not found
total 80064
drwxr-xr-x 2 root root       24 Sep 10 08:56 .
drwxr-xr-x 7 root root     4096 Sep 10 09:01 ..
-rw-r--r-- 1 root root 81977417 Sep 10 08:56 models.zip
Traceback (most recent call last):
  File "/workspace/MotionVectorization/RAFT/extract_flow.py", line 158, in <module>
    demo(args)
  File "/workspace/MotionVectorization/RAFT/extract_flow.py", line 95, in demo
    model.load_state_dict(torch.load(args.model))
                          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 1479, in load
    with _open_file_like(f, "rb") as opened_file:
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 759, in _open_file_like
    return _open_file(name_or_buffer, mode)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 740, in __init__
    super().__init__(open(name, mode))
                     ^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'models/raft-things.pth'
Processing video: demo
PREPROCESS
RAFT
Traceback (most recent call last):
  File "/workspace/MotionVectorization/RAFT/extract_flow.py", line 158, in <module>
    demo(args)
  File "/workspace/MotionVectorization/RAFT/extract_flow.py", line 95, in demo
    model.load_state_dict(torch.load(args.model))
                          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 1479, in load
    with _open_file_like(f, "rb") as opened_file:
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 759, in _open_file_like
    return _open_file(name_or_buffer, mode)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 740, in __init__
    super().__init__(open(name, mode))
                     ^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'models/raft-things.pth'
root@ec25add1092f:/workspace/MotionVectorization# # تثبيت unzip
apt update && apt install -y unzip

# فك ضغط النماذج
cd RAFT/models
unzip models.zip
ls -la
cd ../..
Hit:1 http://security.ubuntu.com/ubuntu jammy-security InRelease
Hit:2 https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64  InRelease                                           
Hit:3 http://archive.ubuntu.com/ubuntu jammy InRelease                                                                                
Hit:4 http://archive.ubuntu.com/ubuntu jammy-updates InRelease                                                  
Hit:5 http://archive.ubuntu.com/ubuntu jammy-backports InRelease
Hit:6 https://ppa.launchpadcontent.net/deadsnakes/ppa/ubuntu jammy InRelease
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
110 packages can be upgraded. Run 'apt list --upgradable' to see them.
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Suggested packages:
  zip
The following NEW packages will be installed:
  unzip
0 upgraded, 1 newly installed, 0 to remove and 110 not upgraded.
Need to get 175 kB of archives.
After this operation, 386 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 unzip amd64 6.0-26ubuntu3.2 [175 kB]
Fetched 175 kB in 0s (619 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package unzip.
(Reading database ... 24436 files and directories currently installed.)
Preparing to unpack .../unzip_6.0-26ubuntu3.2_amd64.deb ...
Unpacking unzip (6.0-26ubuntu3.2) ...
Setting up unzip (6.0-26ubuntu3.2) ...
Processing triggers for mailcap (3.70+nmu1ubuntu1) ...
Archive:  models.zip
   creating: models/
  inflating: models/raft-kitti.pth   
  inflating: models/raft-sintel.pth  
  inflating: models/raft-chairs.pth  
  inflating: models/raft-things.pth  
  inflating: models/raft-small.pth   
total 80064
drwxr-xr-x 3 root root       50 Sep 10 09:06 .
drwxr-xr-x 7 root root     4096 Sep 10 09:01 ..
drwxrwxr-x 2 root root      143 Aug 24  2020 models
-rw-r--r-- 1 root root 81977417 Sep 10 08:56 models.zip
root@ec25add1092f:/workspace/MotionVectorization# # استخدام Python لفك الضغط
cd RAFT/models
python3 -c "
import zipfile
with zipfile.ZipFile('models.zip', 'r') as zip_ref:
    zip_ref.extractall('.')
print('✅ Models extracted successfully')
"
ls -la
cd ../..
✅ Models extracted successfully
total 80064
drwxr-xr-x 3 root root       50 Sep 10 09:06 .
drwxr-xr-x 7 root root     4096 Sep 10 09:01 ..
drwxrwxr-x 2 root root      143 Aug 24  2020 models
-rw-r--r-- 1 root root 81977417 Sep 10 08:56 models.zip
root@ec25add1092f:/workspace/MotionVectorization# # التحقق من النماذج المستخرجة
ls RAFT/models/*.pth

# اختبار RAFT مع النموذج الصحيح
cd RAFT
python3 extract_flow.py --path ../videos/demo --model models/raft-things.pth --max_frames 10
cd ..

# التحقق من نجاح RAFT (يجب أن يحتوي على .npy files)
ls videos/demo/flow/forward/

# تشغيل المعالجة الكاملة
./scripts/final_script.sh videos/demo.txt
ls: cannot access 'RAFT/models/*.pth': No such file or directory
Traceback (most recent call last):
  File "/workspace/MotionVectorization/RAFT/extract_flow.py", line 158, in <module>
    demo(args)
  File "/workspace/MotionVectorization/RAFT/extract_flow.py", line 95, in demo
    model.load_state_dict(torch.load(args.model))
                          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 1479, in load
    with _open_file_like(f, "rb") as opened_file:
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 759, in _open_file_like
    return _open_file(name_or_buffer, mode)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 740, in __init__
    super().__init__(open(name, mode))
                     ^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'models/raft-things.pth'
Processing video: demo
PREPROCESS
RAFT
Traceback (most recent call last):
  File "/workspace/MotionVectorization/RAFT/extract_flow.py", line 158, in <module>
    demo(args)
  File "/workspace/MotionVectorization/RAFT/extract_flow.py", line 95, in demo
    model.load_state_dict(torch.load(args.model))
                          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 1479, in load
    with _open_file_like(f, "rb") as opened_file:
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 759, in _open_file_like
    return _open_file(name_or_buffer, mode)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/serialization.py", line 740, in __init__
    super().__init__(open(name, mode))
                     ^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'models/raft-things.pth'
root@ec25add1092f:/workspace/MotionVectorization# 