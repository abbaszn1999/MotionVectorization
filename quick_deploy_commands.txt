# أوامر النشر السريع على RunPod

## 1. أوامر الإعداد الأولي على RunPod
apt update && apt upgrade -y
apt install -y git curl wget build-essential python3.11 python3.11-pip python3.11-venv

## 2. إنشاء مجلد العمل
mkdir -p /workspace/motion-vectorization
cd /workspace/motion-vectorization

## 3. نقل الملفات (من جهازك المحلي)
# شغّل هذا الأمر أولاً لضغط الملفات:
./pack_for_runpod.sh

# ثم انقل الملف المضغوط:
scp motion_vectorization_runpod.tar.gz root@YOUR_POD_IP:/workspace/

## 4. فك الضغط والتشغيل على RunPod
cd /workspace
tar -xzf motion_vectorization_runpod.tar.gz
cd runpod_package
./start_runpod.sh

## 5. أوامر مراقبة مفيدة
# مراقبة استهلاك GPU
nvidia-smi -l 1

# مراقبة استهلاك الذاكرة
htop

# مراقبة سجلات التطبيق
tail -f logs/app.log

# فحص المنافذ المفتوحة
netstat -tlnp | grep :5000

## 6. أوامر إدارة العملية
# إيقاف التطبيق إذا كان يعمل في Screen
screen -list
screen -S motion-app -X quit

# بدء جلسة Screen جديدة
screen -S motion-app
# داخل Screen شغّل:
./start_runpod.sh
# للخروج من Screen: Ctrl+A ثم D

## 7. تحديث التطبيق
# لتحديث التطبيق دون إعادة تحميل كل شيء:
git pull origin main  # إذا كان على Git
# أو انقل الملفات المحدثة فقط:
scp ui/app.py root@YOUR_POD_IP:/workspace/runpod_package/ui/

## 8. استكشاف الأخطاء
# فحص حالة العمليات
ps aux | grep python

# فحص استهلاك القرص
df -h

# فحص المجلدات الكبيرة
du -sh * | sort -hr

# تنظيف الذاكرة إذا لزم الأمر
sync && echo 3 > /proc/sys/vm/drop_caches