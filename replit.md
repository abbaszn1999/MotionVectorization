# Motion Vectorization Control Panel

## نظرة عامة
مشروع لتحويل الفيديوهات إلى رسوم متحركة SVG باستخدام تقنيات الذكاء الاصطناعي والرؤية الحاسوبية. النظام يدمج بين Replit كبيئة تطوير وإدارة، و RunPod كبيئة معالجة قوية بـ GPU.

## الميزات الرئيسية
- **واجهة ويب متكاملة**: إدارة شاملة للمشروع من Replit
- **معالجة على GPU**: استخدام RunPod للمعالجة الثقيلة
- **مزامنة الملفات**: نقل تلقائي للملفات بين النظامين
- **مراقبة المهام**: متابعة حية لحالة المعالجة
- **تحويل SVG**: إنتاج رسوم متحركة عالية الجودة

## البنية التقنية

### الواجهة الأمامية (Replit)
- Flask Web Application على المنفذ 5000
- واجهة مستخدم عربية بتصميم Bootstrap
- إدارة رفع الملفات ومراقبة التقدم
- نظام سجلات شامل

### المعالجة الخلفية (RunPod)
- RAFT للـ Optical Flow
- Motion Vectorization Pipeline
- Shape Optimization
- SVG Generation

### التقنيات المستخدمة
- **Python 3.11** للمعالجة
- **Flask** لواجهة الويب
- **Paramiko** للاتصال SSH
- **OpenCV, PyTorch** للرؤية الحاسوبية
- **Bootstrap 5** للواجهة

## دليل الاستخدام

### 1. إعداد RunPod
1. انتقل إلى صفحة "الإعدادات"
2. أدخل تفاصيل الاتصال:
   - عنوان الخادم (IP Address)
   - المنفذ (افتراضي: 22)
   - اسم المستخدم (افتراضي: root)
   - كلمة المرور أو مفتاح SSH
3. اختبر الاتصال
4. احفظ الإعدادات

### 2. معالجة الفيديو
1. في الصفحة الرئيسية، ارفع ملف فيديو
2. سيبدأ النظام تلقائياً بالمعالجة على RunPod
3. راقب التقدم في قسم "المهام النشطة"
4. حمل النتائج عند الانتهاء

### 3. مراقبة النظام
- تابع السجلات في قسم "السجلات"
- راقب حالة الاتصال مع RunPod
- تابع تقدم المهام النشطة

## بنية الملفات
```
.
├── app.py                 # التطبيق الرئيسي
├── templates/             # قوالب HTML
│   ├── base.html         # القالب الأساسي
│   ├── index.html        # الصفحة الرئيسية
│   ├── config.html       # صفحة الإعدادات
│   └── logs.html         # صفحة السجلات
├── uploads/              # ملفات مرفوعة
├── downloads/            # نتائج المعالجة
├── logs/                 # سجلات النظام
├── motion_vectorization/ # خوارزميات المعالجة
├── RAFT/                 # نموذج RAFT
├── scripts/              # سكريبت المعالجة
└── svg_utils/           # أدوات SVG
```

## سير العمل

### خط أنابيب المعالجة
1. **رفع الفيديو**: من Replit إلى RunPod
2. **تحضير البيانات**: استخراج الإطارات
3. **تحليل الحركة**: باستخدام RAFT
4. **استخراج الأشكال**: تجميع وتتبع
5. **تحسين**: ضبط المعاملات
6. **إنتاج SVG**: ملف الرسم المتحرك النهائي
7. **تحميل النتائج**: إرجاع إلى Replit

### إدارة المهام
- كل مهمة لها معرف فريد
- مراقبة حية للتقدم
- سجل مفصل للعمليات
- تحميل النتائج عند الانتهاء

## المتطلبات التقنية

### RunPod
- GPU قوي (RTX 3080 أو أفضل)
- ذاكرة GPU كافية (8GB+)
- Ubuntu 20.04+
- CUDA 12.0+

### Replit
- Python 3.11
- اتصال إنترنت مستقر
- مساحة تخزين للملفات المؤقتة

## الاستكشاف والإصلاح

### مشاكل الاتصال
- تأكد من عنوان IP الصحيح
- تحقق من إعدادات الجدار الناري
- اختبر الاتصال يدوياً عبر SSH

### مشاكل المعالجة
- راجع سجلات النظام
- تأكد من توفر GPU على RunPod
- تحقق من مساحة التخزين

### مشاكل الأداء
- استخدم ملفات فيديو أصغر للاختبار
- تأكد من جودة الشبكة
- راقب استخدام الذاكرة

## المساهمة والتطوير

### إضافة ميزات جديدة
1. ادرس الكود الحالي
2. اتبع نمط التصميم الموجود
3. اختبر التغييرات محلياً
4. وثق الميزات الجديدة

### تحسين الأداء
- تحسين خوارزميات المعالجة
- تقليل نقل البيانات
- استخدام معالجة متوازية

## الأمان والخصوصية
- بيانات الاعتماد محفوظة محلياً
- لا يتم تخزين كلمات المرور في النصوص
- نقل آمن للملفات عبر SSH
- تنظيف الملفات المؤقتة تلقائياً

## الدعم الفني
- راجع السجلات لمعلومات مفصلة
- اختبر الاتصال مع RunPod
- تأكد من صحة إعدادات المشروع

تاريخ آخر تحديث: سبتمبر 2025